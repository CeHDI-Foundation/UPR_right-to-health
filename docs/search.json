[
  {
    "objectID": "Preliminary analyses.html",
    "href": "Preliminary analyses.html",
    "title": "Preliminary analyses for considering the Right to Health in the Universal Periodic Review",
    "section": "",
    "text": "Code\n# install.packages(\"data.table\")\npacman::p_load(\n  here,\n  tidyverse,\n  janitor,\n  DT\n)\n\n\nRead in the UPR data from the SDG data from the “Human Rights Data Explorer” (created and maintained by the Danish Institute for Human Rights): https://sdgdata.humanrights.dk/en/mechanisms/upr/cycle-4 (Navigate to the link above and click “download all data” - the download preparation takes &gt;30 minutes)\nI then converted the CSV file to RDS format to save space:\n\n\nCode\n# Download from https://sdgdata.humanrights.dk/en/solr-explorer\nsdg_data &lt;- readRDS(here(\"data\",\"sdg_data.rds\")) |&gt; \n  janitor::clean_names() |&gt; \n  mutate_if(is.character, ~na_if(., \"\")) |&gt; # convert blank spaces to true NA\n  filter(mechanism == \"Universal Periodic Review\") |&gt; \n  rename(state_under_review = state) |&gt; \n  mutate(\n    year = ymd(paste0(year, \"01-01\")),\n    cycle = factor(cycle),\n    sdg_linked = factor(case_when(sdg_goals == \"No SDG link identified\" ~ \"No SDG link\",\n                                  .default = \"Linked to an SDG\"), \n                        levels = c(\"No SDG link\", \"Linked to an SDG\")),\n    response_upr = factor(response_upr),\n    title = str_split_i(paragraph, \"\\\\|\", 2)\n  ) |&gt; \n  relocate(sdg_linked, .after = sdg_goals)\n\n# Alternatively download straight from OHCHR website\n# https://uhri.ohchr.org/en/our-data-api \n# OHCHR &lt;- jsonlite::read_json(here(\"data\", \"export-full-en.json\"))\n# OHCHR &lt;- tidyjson::read_json(here(\"data\", \"export-full-en.json\"))\n\n\n\n\nI then created a set of keywords to assign recommendations as being related to the “right to health”. This is a key step to refine in case we opt for an automated process. Some of the keywords are partial words because I use a partial word matching (e.g. “prophyla” will match with both “prophylaxis” as well as “prophylactics”). Need to be careful to not accidentally include irrelevent terms.\n\n\nCode\nhealth_keywords &lt;- \"health|well-being|wellbeing|sanitation|sanitary|disease|sick|infectio|nutrition|TB|tuberculosis|malaria|HIV|hospital|clinic|vaccin|medic|doctor|nurse|nursing|maternal|pregnan|prenatal|postnatal|neonatal|breasfe|obstetric|medic|diabetes|cancer|blood|hypertension|respiratory|contracep|abortion|prophyla|violence against women|violence against children|domestic violence|gender-based violence|sexual violence|marital violence|gender violence|hunger|malnutrition|sexual abuse|mortality|leprosy|famine|drought|food|hygiene|disabili|tobacco|smoking\"\n\n\n\n\n\n\n\nCode\nsdg_data &lt;- sdg_data |&gt; \n  mutate(\n    health_related = factor(case_when(\n      str_detect(tolower(text), health_keywords)| \n        str_detect(tolower(sdg_goals), \"health|sanitation\")\n      # str_detect(targets, \"5.6|16.1|16.2\")\n      ~ \"Health-related\",\n      str_detect(tolower(text), \"abuse|maltreatment|violence|sexual\")&\n        str_detect(tolower(text), \"child|girl|women|sexual|domestic|gender|marital\")~ \"Health-related\",\n      .default = \"Not health-related\"\n    ), levels = c(\"Not health-related\", \"Health-related\"))\n  ) |&gt; \n  relocate(health_related, .after = text)\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  group_by(cycle) |&gt; \n  count(health_related) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = health_related, label = paste0(n, \" (\", round(perc,1), \"%)\")))+\n  geom_col()+\n  labs(y = \"Number of recommendations\", x = \"UPR Cycle\", \n       title = \"UPR recommendations related to the right to health, per cycle\",\n       fill = \"\")+\n  geom_text(position = position_stack(), vjust = 1)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  group_by(cycle, health_related) |&gt; \n  count(sdg_linked) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = sdg_linked, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ health_related, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"UPR recommendations that have been linked to an SDG target\")+\n  geom_text(position = position_stack(), vjust = 1)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle, health_related) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ health_related, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"State responses to UPR recommendations\")+\n  geom_text(position = position_stack(), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle, sdg_linked) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ sdg_linked, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"State responses to UPR recommendations\")+\n  geom_text(position = position_stack(), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  geom_col(position = \"dodge\")+\n  labs(y = \"Number of recommendations\", x = \"UPR Cycle\", \n       title = \"State responses to UPR recommendations\",\n       fill = \"\")+\n  geom_text(position = position_dodge(width = 0.9), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\nI’ve split the recommendations into two groups here, one where they’ve been linked to the right to health and one where the link has not been made. These can be explored and inspected, for example by adding in keywords into the filters, so that we can make sure that we aren’t missing or inappropriately including recommendations within our definitions for the “right to health”.\n\n\nCode\n/* set the DT table fontsizes */\nth { font-size: 11px; } /* header font */\ntd { font-size: 11px; } /* cell font */\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  mutate(state_under_review = factor(state_under_review)) |&gt; \n  filter(health_related == \"Health-related\") |&gt; \n  select(text, sdg_goals, groups, state_under_review, response_upr, cycle, document_code, paragraph) |&gt; \n  DT::datatable(\n    filter = \"top\",\n    options = list(\n      pageLength = 100,\n      deferRender = TRUE,\n      scrollY = 400,\n      scrollX = TRUE,\n      scroller = TRUE,\n      autoWidth = TRUE,      \n      columnDefs = list(list(width = '10%', targets = c(1)))\n    ),\n    rownames = FALSE, # set to FALSE for cleaner look\n    class = 'cell-border stripe hover compact'\n  )\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  mutate(state_under_review = factor(state_under_review)) |&gt; \n  filter(health_related == \"Not health-related\") |&gt; \n  select(text, sdg_goals, groups, state_under_review, cycle, document_code, paragraph) |&gt; \n  DT::datatable(\n    filter = \"top\",\n    options = list(\n      pageLength = 100,\n      deferRender = TRUE,\n      scrollY = 400,\n      scrollX = TRUE,\n      scroller = TRUE,\n      autoWidth = TRUE,      \n      columnDefs = list(list(width = '10%', targets = c(1)))\n    ),\n    rownames = FALSE, # set to FALSE for cleaner look\n    class = 'cell-border stripe hover compact'\n  )"
  },
  {
    "objectID": "Preliminary analyses.html#setup",
    "href": "Preliminary analyses.html#setup",
    "title": "Preliminary analyses for considering the Right to Health in the Universal Periodic Review",
    "section": "",
    "text": "Code\n# install.packages(\"data.table\")\npacman::p_load(\n  here,\n  tidyverse,\n  janitor,\n  DT\n)\n\n\nRead in the UPR data from the SDG data from the “Human Rights Data Explorer” (created and maintained by the Danish Institute for Human Rights): https://sdgdata.humanrights.dk/en/mechanisms/upr/cycle-4 (Navigate to the link above and click “download all data” - the download preparation takes &gt;30 minutes)\nI then converted the CSV file to RDS format to save space:\n\n\nCode\n# Download from https://sdgdata.humanrights.dk/en/solr-explorer\nsdg_data &lt;- readRDS(here(\"data\",\"sdg_data.rds\")) |&gt; \n  janitor::clean_names() |&gt; \n  mutate_if(is.character, ~na_if(., \"\")) |&gt; # convert blank spaces to true NA\n  filter(mechanism == \"Universal Periodic Review\") |&gt; \n  rename(state_under_review = state) |&gt; \n  mutate(\n    year = ymd(paste0(year, \"01-01\")),\n    cycle = factor(cycle),\n    sdg_linked = factor(case_when(sdg_goals == \"No SDG link identified\" ~ \"No SDG link\",\n                                  .default = \"Linked to an SDG\"), \n                        levels = c(\"No SDG link\", \"Linked to an SDG\")),\n    response_upr = factor(response_upr),\n    title = str_split_i(paragraph, \"\\\\|\", 2)\n  ) |&gt; \n  relocate(sdg_linked, .after = sdg_goals)\n\n# Alternatively download straight from OHCHR website\n# https://uhri.ohchr.org/en/our-data-api \n# OHCHR &lt;- jsonlite::read_json(here(\"data\", \"export-full-en.json\"))\n# OHCHR &lt;- tidyjson::read_json(here(\"data\", \"export-full-en.json\"))\n\n\n\n\nI then created a set of keywords to assign recommendations as being related to the “right to health”. This is a key step to refine in case we opt for an automated process. Some of the keywords are partial words because I use a partial word matching (e.g. “prophyla” will match with both “prophylaxis” as well as “prophylactics”). Need to be careful to not accidentally include irrelevent terms.\n\n\nCode\nhealth_keywords &lt;- \"health|well-being|wellbeing|sanitation|sanitary|disease|sick|infectio|nutrition|TB|tuberculosis|malaria|HIV|hospital|clinic|vaccin|medic|doctor|nurse|nursing|maternal|pregnan|prenatal|postnatal|neonatal|breasfe|obstetric|medic|diabetes|cancer|blood|hypertension|respiratory|contracep|abortion|prophyla|violence against women|violence against children|domestic violence|gender-based violence|sexual violence|marital violence|gender violence|hunger|malnutrition|sexual abuse|mortality|leprosy|famine|drought|food|hygiene|disabili|tobacco|smoking\"\n\n\n\n\n\n\n\nCode\nsdg_data &lt;- sdg_data |&gt; \n  mutate(\n    health_related = factor(case_when(\n      str_detect(tolower(text), health_keywords)| \n        str_detect(tolower(sdg_goals), \"health|sanitation\")\n      # str_detect(targets, \"5.6|16.1|16.2\")\n      ~ \"Health-related\",\n      str_detect(tolower(text), \"abuse|maltreatment|violence|sexual\")&\n        str_detect(tolower(text), \"child|girl|women|sexual|domestic|gender|marital\")~ \"Health-related\",\n      .default = \"Not health-related\"\n    ), levels = c(\"Not health-related\", \"Health-related\"))\n  ) |&gt; \n  relocate(health_related, .after = text)\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  group_by(cycle) |&gt; \n  count(health_related) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = health_related, label = paste0(n, \" (\", round(perc,1), \"%)\")))+\n  geom_col()+\n  labs(y = \"Number of recommendations\", x = \"UPR Cycle\", \n       title = \"UPR recommendations related to the right to health, per cycle\",\n       fill = \"\")+\n  geom_text(position = position_stack(), vjust = 1)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  group_by(cycle, health_related) |&gt; \n  count(sdg_linked) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = sdg_linked, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ health_related, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"UPR recommendations that have been linked to an SDG target\")+\n  geom_text(position = position_stack(), vjust = 1)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle, health_related) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ health_related, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"State responses to UPR recommendations\")+\n  geom_text(position = position_stack(), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle, sdg_linked) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  facet_grid(~ sdg_linked, \n             scales = \"free_x\", \n             space = \"free_x\", \n             switch = \"x\"\n  )+\n  geom_col()+\n  labs(x = \"Number of recommendations\", x = \"Cycle\", fill = \"\",\n       title = \"State responses to UPR recommendations\")+\n  geom_text(position = position_stack(), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  filter(!is.na(response_upr)) |&gt; \n  group_by(cycle) |&gt; \n  count(response_upr) |&gt; \n  mutate(perc = n/sum(n)*100) |&gt; \n  ggplot(aes(x = cycle, y = n, fill = response_upr, label = paste0(round(perc,1), \"%\")))+\n  geom_col(position = \"dodge\")+\n  labs(y = \"Number of recommendations\", x = \"UPR Cycle\", \n       title = \"State responses to UPR recommendations\",\n       fill = \"\")+\n  geom_text(position = position_dodge(width = 0.9), vjust = -0.5)+\n  theme_bw()\n\n\n\n\n\n\n\n\n\n\n\n\nI’ve split the recommendations into two groups here, one where they’ve been linked to the right to health and one where the link has not been made. These can be explored and inspected, for example by adding in keywords into the filters, so that we can make sure that we aren’t missing or inappropriately including recommendations within our definitions for the “right to health”.\n\n\nCode\n/* set the DT table fontsizes */\nth { font-size: 11px; } /* header font */\ntd { font-size: 11px; } /* cell font */\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  mutate(state_under_review = factor(state_under_review)) |&gt; \n  filter(health_related == \"Health-related\") |&gt; \n  select(text, sdg_goals, groups, state_under_review, response_upr, cycle, document_code, paragraph) |&gt; \n  DT::datatable(\n    filter = \"top\",\n    options = list(\n      pageLength = 100,\n      deferRender = TRUE,\n      scrollY = 400,\n      scrollX = TRUE,\n      scroller = TRUE,\n      autoWidth = TRUE,      \n      columnDefs = list(list(width = '10%', targets = c(1)))\n    ),\n    rownames = FALSE, # set to FALSE for cleaner look\n    class = 'cell-border stripe hover compact'\n  )\n\n\n\n\n\n\n\n\n\n\n\nCode\nsdg_data |&gt; \n  mutate(state_under_review = factor(state_under_review)) |&gt; \n  filter(health_related == \"Not health-related\") |&gt; \n  select(text, sdg_goals, groups, state_under_review, cycle, document_code, paragraph) |&gt; \n  DT::datatable(\n    filter = \"top\",\n    options = list(\n      pageLength = 100,\n      deferRender = TRUE,\n      scrollY = 400,\n      scrollX = TRUE,\n      scroller = TRUE,\n      autoWidth = TRUE,      \n      columnDefs = list(list(width = '10%', targets = c(1)))\n    ),\n    rownames = FALSE, # set to FALSE for cleaner look\n    class = 'cell-border stripe hover compact'\n  )"
  },
  {
    "objectID": "Preliminary analyses.html#focus-on-cycle-3",
    "href": "Preliminary analyses.html#focus-on-cycle-3",
    "title": "Preliminary analyses for considering the Right to Health in the Universal Periodic Review",
    "section": "Focus on Cycle 3",
    "text": "Focus on Cycle 3\n\nLoad in dataset from UPR Info\nI downloaded the UPR Info dataset on 2025-06-03 as several individual files (the download size was limited to 10,000 recommendations per download) and then combined them into one main file.\n(Still to be worked on)\n\n\nCode\n# upr_info &lt;- readRDS(here(\"data\", \"UPRInfo_all.rds\")) |&gt; \n#   janitor::clean_names() |&gt;\n#   mutate(\n#     state_under_review = str_split_i(related_document, \" - \", 1),\n#     cycle = factor(str_split_i(cycle, \" \\\\(\", 1))\n#   )\n\n# upr_info_cycle_3 &lt;- upr_info |&gt; \n#   filter(cycle == \"Cycle 3\") |&gt; droplevels() |&gt; \n#   select(title,cycle, state_under_review, recommendation, action_category, issues) |&gt; \n#   left_join(\n#     sdg_data |&gt; filter(cycle == \"Cycle 3\") |&gt; droplevels(), \n#     join_by(state_under_review, title)\n#     )"
  }
]